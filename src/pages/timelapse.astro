---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import TimelapseMapRedesigned from '../components/TimelapseMapRedesigned';
import { MapPin } from 'lucide-react';
---

<Layout 
  title="Theft Hotspots Timelapse - Interactive Map | ProtectMyMobile"
  description="Explore an interactive timelapse of mobile phone theft hotspots across London. See where and when thefts occur most frequently throughout 2024."
>
  <Header />
  
  <main class="bg-[#f3f2f1]">
    <div class="container mx-auto px-4 py-8">
      <!-- Header -->
      <div class="mb-8">
        <h1 class="flex items-center text-3xl md:text-4xl font-bold mb-4">
          <MapPin class="h-10 w-10 mr-3 flex-shrink-0 text-primary" />
          London Theft Hotspots Timelapse
        </h1>
        <p class="text-lg text-neutral-700 mb-4">
          Watch how mobile phone theft patterns evolve across London throughout 2024. 
          See which boroughs are most affected and identify seasonal trends.
        </p>
        <div class="flex flex-wrap gap-4 text-sm">
          <div class="px-4 py-2 bg-blue-50 border border-blue-200 rounded-lg">
            <span class="font-semibold text-blue-900">12 months</span>
            <span class="text-blue-700"> of data</span>
          </div>
          <div class="px-4 py-2 bg-green-50 border border-green-200 rounded-lg">
            <span class="font-semibold text-green-900">10+ boroughs</span>
            <span class="text-green-700"> tracked</span>
          </div>
          <div class="px-4 py-2 bg-red-50 border border-red-200 rounded-lg">
            <span class="font-semibold text-red-900">Interactive</span>
            <span class="text-red-700"> visualization</span>
          </div>
        </div>
      </div>

      <!-- Interactive Map - Redesigned -->
      <TimelapseMapRedesigned client:load />
      
      <!-- Key Insights -->
      <div class="mt-8 bg-white rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-bold mb-4">Key Insights from 2024 Data</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h3 class="font-semibold text-lg mb-2 text-neutral-900">Highest Risk Areas</h3>
            <ul class="space-y-2 text-neutral-700">
              <li className="flex items-start">
                <span className="text-red-600 font-bold mr-2">1.</span>
                <div>
                  <strong>Westminster</strong> - Consistently highest theft rates (580-892 per month)
                </div>
              </li>
              <li className="flex items-start">
                <span className="text-red-600 font-bold mr-2">2.</span>
                <div>
                  <strong>Camden</strong> - Second highest with 245-405 monthly thefts
                </div>
              </li>
              <li className="flex items-start">
                <span className="text-red-600 font-bold mr-2">3.</span>
                <div>
                  <strong>Islington</strong> - Significant hotspot with 198-352 thefts/month
                </div>
              </li>
            </ul>
          </div>
          
          <div>
            <h3 class="font-semibold text-lg mb-2 text-neutral-900">Seasonal Patterns</h3>
            <ul class="space-y-2 text-neutral-700">
              <li className="flex items-start">
                <span className="text-orange-600 mr-2">ðŸ“ˆ</span>
                <div>
                  <strong>Summer Peak:</strong> Thefts peak in June-July (tourist season, outdoor events)
                </div>
              </li>
              <li className="flex items-start">
                <span className="text-blue-600 mr-2">ðŸ“Š</span>
                <div>
                  <strong>Winter Spike:</strong> December sees increased thefts (Christmas shopping)
                </div>
              </li>
              <li className="flex items-start">
                <span className="text-green-600 mr-2">ðŸ“‰</span>
                <div>
                  <strong>Lowest Period:</strong> January-February typically show fewer incidents
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
      
      <!-- How to Stay Safe -->
      <div class="mt-8 bg-gradient-to-r from-primary/5 to-transparent border-l-4 border-primary rounded-r-lg p-6">
        <h2 class="text-xl font-bold mb-3">Protect Yourself in High-Risk Areas</h2>
        <p class="text-neutral-700 mb-4">
          If you live, work, or travel through Westminster, Camden, or Islington, take extra precautions:
        </p>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <a href="/prevention" class="p-4 bg-white rounded-lg hover:shadow-md transition-shadow border border-neutral-200">
            <div class="font-semibold mb-1">Prevention Guide</div>
            <div class="text-sm text-neutral-600">Learn security measures</div>
          </a>
          <a href="/security-checkup" class="p-4 bg-white rounded-lg hover:shadow-md transition-shadow border border-neutral-200">
            <div class="font-semibold mb-1">Security Checkup</div>
            <div class="text-sm text-neutral-600">Test your phone's security</div>
          </a>
          <a href="/emergency" class="p-4 bg-white rounded-lg hover:shadow-md transition-shadow border border-neutral-200">
            <div class="font-semibold mb-1">Emergency Actions</div>
            <div class="text-sm text-neutral-600">What to do if stolen</div>
          </a>
        </div>
      </div>
    </div>
  </main>
  
  <Footer />
</Layout>

<style>
  /* Custom slider styling */
  .slider::-webkit-slider-thumb {
    appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #2563eb;
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  }
  
  .slider::-moz-range-thumb {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #2563eb;
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  }
</style>
