---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { Mail, MessageSquare, HelpCircle } from 'lucide-react';
---

<Layout 
  title="Contact Us - Get in Touch | ProtectMyMobile"
  description="Get in touch with ProtectMyMobile for questions, suggestions, or feedback about mobile security."
>
  <Header />
  
  <main class="bg-[#f3f2f1]">
    <div class="container mx-auto px-4 py-8">
      <div class="max-w-3xl mx-auto">
        <h1 class="flex items-center text-3xl md:text-4xl font-bold mb-6">
          <Mail class="h-10 w-10 mr-3 flex-shrink-0 text-primary" />
          Contact Us
        </h1>
        
        <div class="bg-white rounded-lg shadow-md p-8 mb-8">
          <p class="text-lg text-neutral-700 mb-6">
            We'd love to hear from you! Whether you have questions, suggestions, or feedback, please get in touch.
          </p>
          
          <!-- Contact Form -->
          <form class="space-y-6" id="contact-form">
            <div>
              <label for="name" class="block text-sm font-medium text-neutral-700 mb-2">
                Your Name
              </label>
              <input
                type="text"
                id="name"
                name="name"
                required
                class="w-full px-4 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"
                placeholder="John Smith"
              />
            </div>
            
            <div>
              <label for="email" class="block text-sm font-medium text-neutral-700 mb-2">
                Your Email
              </label>
              <input
                type="email"
                id="email"
                name="email"
                required
                class="w-full px-4 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"
                placeholder="john@example.com"
              />
            </div>
            
            <div>
              <label for="subject" class="block text-sm font-medium text-neutral-700 mb-2">
                Subject
              </label>
              <select
                id="subject"
                name="subject"
                required
                class="w-full px-4 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Select a subject...</option>
                <option value="general">General Inquiry</option>
                <option value="suggestion">Suggestion</option>
                <option value="bug">Report a Bug</option>
                <option value="data">Data/Information Request</option>
                <option value="other">Other</option>
              </select>
            </div>
            
            <div>
              <label for="message" class="block text-sm font-medium text-neutral-700 mb-2">
                Message
              </label>
              <textarea
                id="message"
                name="message"
                required
                rows="6"
                class="w-full px-4 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"
                placeholder="Tell us what's on your mind..."
              ></textarea>
            </div>
            
            <div>
              <button
                type="submit"
                class="w-full bg-primary text-white py-3 px-6 rounded-md font-medium hover:bg-primary/90 transition-colors"
              >
                Send Message
              </button>
            </div>
          </form>
          
          <div id="form-message" class="mt-4 hidden"></div>
        </div>
        
        <!-- Quick Links -->
        <div class="grid grid-cols-1 gap-6">
          <div class="bg-white rounded-lg shadow-md p-6">
            <div class="text-primary mb-3">
              <MessageSquare class="h-8 w-8 mr-2 sm:mr-3 flex-shrink-0" />
            </div>
            <h3 class="text-xl font-semibold mb-2">Community Insights</h3>
            <p class="text-neutral-700 text-sm mb-4">
              Share your anonymous experience and see real-time theft analytics from our community.
            </p>
            <a href="/community-experiences" class="text-primary hover:underline font-medium">
              View Community Insights â†’
            </a>
          </div>
        </div>
      </div>
    </div>
  </main>
  
  <Footer />
  
  <script>
    const form = document.getElementById('contact-form') as HTMLFormElement;
    const messageDiv = document.getElementById('form-message');
    
    if (form && messageDiv) {
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        
        // Show temporary success message
        messageDiv.classList.remove('hidden');
        messageDiv.className = 'mt-4 p-4 bg-green-50 border border-green-200 rounded-md text-green-800';
        messageDiv.textContent = 'Thank you for your message! We\'ll get back to you soon.';
        
        // Reset form
        form.reset();
        
        // TODO: Implement actual form submission to Supabase
        console.log('Form submission - implement Supabase integration');
      });
    }
  </script>
</Layout>
